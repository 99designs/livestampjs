<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Livestamp.js</title>
    <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" />
    <style>
      body { padding-top: 32px; }
      code { white-space: nowrap; }
      hr { border-top-color: #aaa; }
      footer { text-align: right; }
      .livestamp-display, #birth { font-weight: bold; }
      .mono { font-family: Menlo, Monaco, Consolas, "Courier New", monospace; }
      ::selection, ::-moz-selection { text-shadow: none; background-color: rgba(0, 0, 255, 0.15);}
    </style>
  </head>
  <body>
    <div class="container">
      <header class="hero-unit">
        <h1>Livestamp.js</h1>
        <p>
          A simple, unobtrusive jQuery plugin that provides live, auto-updating
          "time-ago" text to your timestamped HTML elements using
          <a href="http://momentjs.com">Moment.js</a>.
        </p>
      </header>
      <div class="row">
        <div class="span8">
          <section style="text-align: center;">
            <div class="well">
              <h3>&lt;span data-livestamp="551059500000"&gt;&lt;/span&gt;</h3>
            </div>
            <i class="icon-arrow-down"></i>
            <div class="well">
              <h3>&lt;span&gt;25 years ago&lt;/span&gt;</h3>
            </div>
          </section>
          <h2>How to use:</h2>
          <section>
            <p>
              <strong>No extra JavaScript required!</strong> Just use an empty
              span with the <code>data-livestamp</code> attribute set to the
              desired Unix timestamp (in seconds), like this:
            </p>
            <pre>You discovered Livestamp.js &lt;span data-livestamp="<span id="now-display"></span>"&gt;&lt;/span&gt;.</pre>
            <p>
              And you will see this: 
            </p>
            <div class="well">
              You discovered Livestamp.js <span id="now" class="livestamp-display"></span>.
            </div>
            <p>
              Wait half a minute &mdash; the livestamp will update automatically.
            </p>
          </section>
          <hr />
          <section>
            <p>
              By the way, <strong>you can use any element you want</strong>.
              Just make sure the <code>data-livestamp</code> attribute has a
              valid timestamp. The <code>&lt;abbr&gt;</code> element is a good
              choice. For instance:
            </p>
            <pre>Not even &lt;abbr title="<span id="fiveminago-title"></span>" data-livestamp="<span id="fiveminago-display"></span>"&gt;&lt;/abbr&gt;,<br />you were still looking for the perfect jQuery time-ago plugin.</pre>
            <p>
              Will assume this:
            </p>
            <div class="well">
              Not even <abbr id="fiveminago" class="livestamp-display" title=""></abbr>, you were still looking for the perfect jQuery time-ago plugin.
            </div>
          </section>
          <hr />
          <section>
            <p>
              <strong>You can even use timestamps in the future!</strong>
              This works well for fortune-tellers, time travelers, and
              meteorologists. Just don't go
              <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date#Description" target="_blank">too far</a>
              into the future (or the past for that matter).
            </p>
            <pre>You will start using Livestamp.js in your own project<br />&lt;span data-livestamp="<span id="twentyminfromnow-display"></span>"&gt;&lt;/span&gt;.</pre>
            <p>
              Will predict this:
            </p>
            <div class="well">
              You will start using Livestamp.js in your own project
              <span id="twentyminfromnow" class="livestamp-display"></span>.
            </div>
          </section>
          <hr />
          <section>
            <p>
              Afraid of unobtrusive JavaScript? No sweat:
              <strong>you can livestamp your elements manually using jQuery</strong>.
              The <code>$.fn.livestamp()</code> function accepts a
              <code>Date</code> object, a <code>Moment</code> object, or a
              <code>Number</code> timestamp.
            </p>
            <pre>Matt Bradley was born &lt;span id="birth"&gt;on June 18, 1987&lt;/span&gt;.<br />&lt;script&gt;<br />  function livestampBirthday() {<br />    $('#birth').livestamp(new Date('June 18, 1987'));<br />  }<br />&lt;/script&gt;</pre>
            <p>
              Click the button to livestamp my birthday:
            </p>
            <div class="well">
              Matt Bradley was born <span id="birth">on June 18, 1987</span>.
            </div>
            <p>
              <button class="btn btn-success mono" id="livestamp-birthday">livestampBirthday()</button>
              <button class="btn btn-success mono" id="destroy-birth">$('#birth').livestamp('destroy')</button>
            </p>
            <p>
              Use <code>$.fn.livestamp('destroy')</code> to remove all
              livestamp data and restore the element's original HTML.
            </p>
          </section>
        </div>
        <div class="span4">
          <h2>It's very simple:</h2>
          <p>
            FIXME! <br />
            Just add the <code>.livestamp</code> class and the
            <code>data-timestamp</code> attribute to the HTML element that you
            want to display the time ago text. The value of
            <code>data-timestamp</code>should be the millisecond Unix time (the
            number of milliseconds since January 1, 1970 12:00am UTC). This is
            the same value you would use in the JavaScript <code>new
            Date()</code> constructor.
          </p>
        </div>
      </div>
      <hr />
      <footer>
        &copy; 2012 Matt Bradley
      </footer>
      <br />
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="moment.js"></script>
    <script src="livestamp.js"></script>
    <script>
      $(document).ready(function() {
        var now = Math.floor(+new Date() / 1000),
            fiveminago = now - 5 * 60,
            fiveminagotext = moment(fiveminago).format('h:mma'),
            twentyminfromnow = now + 20 * 60;
        $('#now').livestamp(now);
        $('#now-display').text(now);
        $('#fiveminago').attr('title', fiveminagotext).livestamp(fiveminago);
        $('#fiveminago-display').text(fiveminago);
        $('#fiveminago-title').text(fiveminagotext);
        $('#twentyminfromnow').livestamp(twentyminfromnow);
        $('#twentyminfromnow-display').text(twentyminfromnow);

        $('#livestamp-birthday').click(function() {
          $('#birth').livestamp(new Date('June 18, 1987'));
        });

        $('#destroy-birth').click(function() {
          $('#birth').livestamp('destroy');
        });
      });
    </script>
  </body>
</html>
